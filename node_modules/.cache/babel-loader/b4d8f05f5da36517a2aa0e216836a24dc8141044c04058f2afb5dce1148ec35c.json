{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HTMLMathItem = void 0;\nvar MathItem_js_1 = require(\"../../core/MathItem.js\");\nvar HTMLMathItem = function (_super) {\n  __extends(HTMLMathItem, _super);\n  function HTMLMathItem(math, jax, display, start, end) {\n    if (display === void 0) {\n      display = true;\n    }\n    if (start === void 0) {\n      start = {\n        node: null,\n        n: 0,\n        delim: ''\n      };\n    }\n    if (end === void 0) {\n      end = {\n        node: null,\n        n: 0,\n        delim: ''\n      };\n    }\n    return _super.call(this, math, jax, display, start, end) || this;\n  }\n  Object.defineProperty(HTMLMathItem.prototype, \"adaptor\", {\n    get: function () {\n      return this.inputJax.adaptor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  HTMLMathItem.prototype.updateDocument = function (_html) {\n    if (this.state() < MathItem_js_1.STATE.INSERTED) {\n      if (this.inputJax.processStrings) {\n        var node = this.start.node;\n        if (node === this.end.node) {\n          if (this.end.n && this.end.n < this.adaptor.value(this.end.node).length) {\n            this.adaptor.split(this.end.node, this.end.n);\n          }\n          if (this.start.n) {\n            node = this.adaptor.split(this.start.node, this.start.n);\n          }\n          this.adaptor.replace(this.typesetRoot, node);\n        } else {\n          if (this.start.n) {\n            node = this.adaptor.split(node, this.start.n);\n          }\n          while (node !== this.end.node) {\n            var next = this.adaptor.next(node);\n            this.adaptor.remove(node);\n            node = next;\n          }\n          this.adaptor.insert(this.typesetRoot, node);\n          if (this.end.n < this.adaptor.value(node).length) {\n            this.adaptor.split(node, this.end.n);\n          }\n          this.adaptor.remove(node);\n        }\n      } else {\n        this.adaptor.replace(this.typesetRoot, this.start.node);\n      }\n      this.start.node = this.end.node = this.typesetRoot;\n      this.start.n = this.end.n = 0;\n      this.state(MathItem_js_1.STATE.INSERTED);\n    }\n  };\n  HTMLMathItem.prototype.updateStyleSheet = function (document) {\n    document.addStyleSheet();\n  };\n  HTMLMathItem.prototype.removeFromDocument = function (restore) {\n    if (restore === void 0) {\n      restore = false;\n    }\n    if (this.state() >= MathItem_js_1.STATE.TYPESET) {\n      var adaptor = this.adaptor;\n      var node = this.start.node;\n      var math = adaptor.text('');\n      if (restore) {\n        var text = this.start.delim + this.math + this.end.delim;\n        if (this.inputJax.processStrings) {\n          math = adaptor.text(text);\n        } else {\n          var doc = adaptor.parse(text, 'text/html');\n          math = adaptor.firstChild(adaptor.body(doc));\n        }\n      }\n      if (adaptor.parent(node)) {\n        adaptor.replace(math, node);\n      }\n      this.start.node = this.end.node = math;\n      this.start.n = this.end.n = 0;\n    }\n  };\n  return HTMLMathItem;\n}(MathItem_js_1.AbstractMathItem);\nexports.HTMLMathItem = HTMLMathItem;","map":{"version":3,"mappings":"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","names":["__extends","math","jax","display","start","end","node","n","delim","_super","Object","HTMLMathItem","inputJax","adaptor","_html","state","MathItem_js_1","INSERTED","processStrings","value","length","split","replace","typesetRoot","next","remove","insert","document","addStyleSheet","restore","TYPESET","text","doc","parse","firstChild","body","parent","exports"],"sources":["/Users/prashant/Desktop/react-quiz/node_modules/mathjax-full/ts/handlers/html/HTMLMathItem.ts"],"sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2017-2022 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @fileoverview  Implements the HTMLMathItem class\n *\n * @author dpvc@mathjax.org (Davide Cervone)\n */\n\nimport {AbstractMathItem, Location, STATE} from '../../core/MathItem.js';\nimport {InputJax} from '../../core/InputJax.js';\nimport {HTMLDocument} from './HTMLDocument.js';\n\n/*****************************************************************/\n/**\n *  Implements the HTMLMathItem class (extends AbstractMathItem)\n *\n * @template N  The HTMLElement node class\n * @template T  The Text node class\n * @template D  The Document class\n */\nexport class HTMLMathItem<N, T, D> extends AbstractMathItem<N, T, D> {\n\n  /**\n   * Easy access to DOM adaptor\n   */\n  get adaptor() {\n    return this.inputJax.adaptor;\n  }\n\n  /**\n   * @override\n   */\n  constructor(math: string, jax: InputJax<N, T, D>, display: boolean = true,\n              start: Location<N, T> = {node: null, n: 0, delim: ''},\n              end: Location<N, T> = {node: null, n: 0, delim: ''}) {\n    super(math, jax, display, start, end);\n  }\n\n  /**\n   * Insert the typeset MathItem into the document at the right location\n   *   If the starting and ending nodes are the same:\n   *     Split the text to isolate the math and its delimiters\n   *     Replace the math by the typeset version\n   *   Otherewise (spread over several nodes)\n   *     Split the start node, if needed\n   *     Remove nodes until we reach the end node\n   *     Insert the math before the end node\n   *     Split the end node, if needed\n   *     Remove the end node\n   *\n   * @override\n   */\n  public updateDocument(_html: HTMLDocument<N, T, D>) {\n    if (this.state() < STATE.INSERTED) {\n      if (this.inputJax.processStrings) {\n        let node = this.start.node as T;\n        if (node === this.end.node) {\n          if (this.end.n && this.end.n < this.adaptor.value(this.end.node).length) {\n            this.adaptor.split(this.end.node, this.end.n);\n          }\n          if (this.start.n) {\n            node = this.adaptor.split(this.start.node as T, this.start.n);\n          }\n          this.adaptor.replace(this.typesetRoot, node);\n        } else {\n          if (this.start.n) {\n            node = this.adaptor.split(node, this.start.n);\n          }\n          while (node !== this.end.node) {\n            let next = this.adaptor.next(node) as T;\n            this.adaptor.remove(node);\n            node = next;\n          }\n          this.adaptor.insert(this.typesetRoot, node);\n          if (this.end.n < this.adaptor.value(node).length) {\n            this.adaptor.split(node, this.end.n);\n          }\n          this.adaptor.remove(node);\n        }\n      } else {\n        this.adaptor.replace(this.typesetRoot, this.start.node);\n      }\n      this.start.node = this.end.node = this.typesetRoot;\n      this.start.n = this.end.n = 0;\n      this.state(STATE.INSERTED);\n    }\n  }\n\n  /**\n   * Update the style sheet for any changes due to rerendering\n   *\n   * @param {HTMLDocument} document   The document whose styles are to be updated\n   */\n  public updateStyleSheet(document: HTMLDocument<N, T, D>) {\n    document.addStyleSheet();\n  }\n\n  /**\n   * Remove the typeset math from the document, and put back the original\n   *  expression and its delimiters, if requested.\n   *\n   * @override\n   */\n  public removeFromDocument(restore: boolean = false) {\n    if (this.state() >= STATE.TYPESET) {\n      const adaptor = this.adaptor;\n      let node = this.start.node;\n      let math: N | T = adaptor.text('');\n      if (restore) {\n        let text = this.start.delim + this.math + this.end.delim;\n        if (this.inputJax.processStrings) {\n          math = adaptor.text(text);\n        } else {\n          const doc = adaptor.parse(text, 'text/html');\n          math = adaptor.firstChild(adaptor.body(doc));\n        }\n      }\n      if (adaptor.parent(node)) {\n        adaptor.replace(math, node);\n      }\n      this.start.node = this.end.node = math;\n      this.start.n = this.end.n = 0;\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}